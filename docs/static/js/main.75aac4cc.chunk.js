(this.webpackJsonpobswebcontroller=this.webpackJsonpobswebcontroller||[]).push([[0],{1987:function(e,t,n){"use strict";n.r(t);var c,r=n(1),a=n(59),i=n.n(a),s=(n(353),n(94)),o=n(343),l=(n(354),n(27)),u=n.n(l),d=n(39),j=n(17),b=n(344),O="SCENES_FETCH",f="SCENES_ERROR",p="PREVIEW_IMAGE_FETCH",h="PREVIEW_IMAGE_ERROR";var x=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{c=setInterval((function(){e.send("TakeSourceScreenshot",{embedPictureFormat:"jpeg",width:800}).then((function(e){n({type:p,payload:e})})).catch((function(e){clearInterval(c),c=void 0,n(A())}))}),1e3)}catch(r){console.log("catched on FetchScenePreview function"+r),n({type:h,payload:r})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m="RECORDING_STATS_FETCH",g="STATS_LOADING",v="RECORDING_ERROR",w="RECORDING_STATS_STOP";var y=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.send("GetRecordingStatus").then((function(e){n({type:m,payload:e})}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),n({type:v,payload:t.t0});case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},S="STREAMING_STATS",R="STREAMING_LOADING",C="STREAMING_ERROR",N="STREAMING_STOP";var k="ERROR_OPEN",E="ERROR_CLOSE";var T,_=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:k,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=new(n.n(b).a),I="OBS_CONNECT",F="OBS_DISCONNECT",B="OBS_ERROR";var A=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{L.disconnect(),t({type:F})}catch(n){console.log("Catched on Disconnect function"+n),t({type:B,payload:n.message})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.send("StartStopRecording");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("catched on startStopRecording function "+e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},P=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.send("StartStopStreaming");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Catched on startStopStreaming function"+e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},D="SET_THEME",G={dark:{rainbow:{palette:{mainBackground:"#212121",brand:"#885090",success:"#82a0b9",error:"#C4595F",warning:"#e7a553"}}},light:{rainbow:{palette:{mainBackground:"#fff",brand:"#01B6F5",success:"#1DE9B6",error:"#FE4849",warning:"#FC0"}}}};var z=Object(s.b)({obsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isConnected:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isConnected:!0,error:null});case F:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isConnected:!1,error:null});case B:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isConnected:!1,error:t.payload.message});default:return e}},scenesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,data:[],error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:t.payload,error:null});case f:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:[],error:t.payload});default:return e}},previewReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,image:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,image:t.payload,error:null});case h:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,image:null,error:t.payload});default:return e}},recordingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,data:{},error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,data:{},error:null});case m:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:t.payload,error:null});case w:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:{},error:null});case v:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:{},error:t.payload});default:return e}},streamReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,data:{},error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,data:{},error:null});case S:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:t.payload,error:null});case C:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:{},error:t.payload});case N:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:{},error:null});default:return e}},alertReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,data:{title:"",description:"",icon:""}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(j.a)(Object(j.a)({},e),{},{isOpen:!0,data:t.payload});case E:return Object(j.a)(Object(j.a)({},e),{},{isOpen:!1,data:{title:"",description:"",icon:""}});default:return e}},themeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{darkMode:!1,theme:G.light},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(j.a)(Object(j.a)({},e),{},{darkMode:t.payload,theme:G[t.payload?"dark":"light"]});default:return e}}}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,H=[o.a];var V=n(30),U=n(54),q=n(19),J=n(7),X=function(){var e=Object(V.c)((function(e){return e.alertReducer})),t=Object(V.b)();return e&&e.isOpen?Object(J.jsx)(q.Notification,{className:"alert",title:e.data.title,description:e.data.description,icon:e.data.icon,onRequestClose:function(){return t(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:E});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}):null},Y=n(33),K=n(34),Q=function(){var e=Object(V.b)(),t=Object(V.c)((function(e){return e.themeReducer})),n=Object(V.c)((function(e){return e.obsReducer.isConnected}));return Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("img",{src:"icon.png",alt:"obs icon",style:{width:"150px",height:"auto"}}),Object(J.jsx)("h2",{children:"OBS remote controller"}),Object(J.jsxs)("p",{children:["Developed by ",Object(J.jsx)("a",{href:"https://github.com/wilsoft-gt",target:"_blank",children:"wilsoft-gt"})]}),Object(J.jsxs)("p",{children:["You can check the source code on ",Object(J.jsx)("a",{href:"https://github.com/wilsoft-gt/OBSWebController",target:"_blank",children:"here"})]})]}),Object(J.jsxs)("div",{className:"d-flex flex-row align-items-center justify-content-center",children:[Object(J.jsx)(Y.a,{icon:K.i,size:"2x"}),Object(J.jsx)(q.CheckboxToggle,{className:"margin-3",value:t.darkMode,onChange:function(){return e((n=!t.darkMode,function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:D,payload:n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n}}),Object(J.jsx)(Y.a,{icon:K.d,size:"2x"})]}),n&&Object(J.jsxs)(q.Button,{variant:"destructive",onClick:function(){return e(A())},children:[Object(J.jsx)(Y.a,{icon:K.j,className:"margin-r-05"}),"Disconnect"]})]})},Z=function(){var e=Object(r.useState)(""),t=Object(U.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(U.a)(a,2),s=i[0],o=i[1],l=Object(V.b)(),j=Object(V.c)((function(e){return e.themeReducer}));return Object(J.jsxs)(q.Application,{theme:j.theme,children:[Object(J.jsx)(q.Modal,{isOpen:s,onRequestClose:function(){return o(!s)},title:"Info",icon:Object(J.jsx)(Y.a,{icon:K.f}),children:Object(J.jsx)(Q,{})}),Object(J.jsxs)("article",{style:{backgroundColor:j.theme.rainbow.palette.mainBackground},className:"d-flex flex-column justify-content-center vh-100 align-items-center",children:[Object(J.jsx)(X,{}),Object(J.jsx)(q.Card,{className:"w-50",title:"Connect",icon:Object(J.jsx)(q.Avatar,{variant:"success",icon:Object(J.jsx)(Y.a,{icon:K.f})}),actions:Object(J.jsx)(q.ButtonIcon,{variant:"success",icon:Object(J.jsx)(Y.a,{icon:K.b,onClick:function(){return o(!s)}})}),children:Object(J.jsx)("div",{className:"w-100 d-flex flex-column align-items-center",children:Object(J.jsxs)("div",{className:"w-50 d-flex flex-column margin-3",children:[Object(J.jsx)(q.Input,{className:"address-input",value:n,isCentered:!0,label:"Host address",onChange:function(e){return c(e.target.value)}}),Object(J.jsx)(q.Button,{variant:"brand",onClick:function(){l(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{L.connect({address:"".concat(e,":4444")}).then((function(e){var t;n({type:I}),n((t=L,function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.send("GetSceneList").then((function(e){return n({type:O,payload:e}),!0}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),n({type:f,payload:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())),n(x(L)),L.send("GetRecordingStatus").then((function(e){e.isRecording&&(T=setInterval((function(){return n(y(L))}),1e3))})),L.on("RecordingStarted",(function(){T||(T=setInterval((function(){return n(y(L))}),1e3))})),L.on("RecordingStopped",(function(){clearInterval(T),T=void 0,n({type:w})})),L.on("StreamStatus",(function(e){n({type:S,payload:e}),console.log(e)})),L.on("StreamStopped",(function(){n({type:N}),console.log("stream stop")})),L.on("ConnectionClosed",(function(){n(_({title:"Disconnected",description:"The connection has been closed",icon:"warning"})),n({type:F})})),L.on("error",(function(e){n(_({title:e.error,description:e.description,icon:"error"}))}))})).catch((function(e){return console.log(e),n(_({title:e.error,description:e.description,icon:"error"})),e}))}catch(c){console.log("Catched on Connect function"+c),n({type:B,payload:c})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))},children:"Connect"})]})})})]})]})},$=function(){var e=Object(V.c)((function(e){return e.scenesReducer.data})),t=Object(r.useState)(""),n=Object(U.a)(t,2),c=n[0],a=n[1],i=Object(V.b)();return Object(r.useEffect)((function(){a(e.currentScene)}),[e]),void 0===e.scenes?Object(J.jsx)(q.Spinner,{size:"large",type:"arc",variant:"brand"}):Object(J.jsx)("div",{className:"h-100 overflow-auto",children:Object(J.jsx)(q.VisualPicker,{id:"visual-picker",value:c,onChange:function(e){var t;a(e),i((t=e,function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.send("SetCurrentScene",{"scene-name":t}).then((function(e){return console.log(e)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Catched on setCurrentScene function"+e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()))},className:"overflow-auto",children:e.scenes.map((function(e,t){return Object(J.jsxs)(q.VisualPickerOption,{name:e.name,children:[Object(J.jsx)(Y.a,{style:{marginBottom:"0.25em"},icon:K.e,size:"3x"}),e.name]},t)}))})})},ee=function(){var e=Object(V.c)((function(e){return e.previewReducer}));return e.isLoading?Object(J.jsx)(q.Spinner,{size:"large",variant:"brand",type:"arc"}):e.error?Object(J.jsx)("h3",{children:e.error.description}):Object(J.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:Object(J.jsx)("img",{className:"prev-img",src:e.image.img})})},te=function(){var e=Object(V.c)((function(e){return e.recordingReducer})),t=Object(V.b)();return e.data&&e.data.isRecording?Object(J.jsxs)("div",{className:"flex-grow-1",children:[Object(J.jsxs)("p",{children:[Object(J.jsx)(Y.a,{icon:K.a,className:"breathingAnimation margin-r-05",style:{color:"red"}})," Recording "]}),Object(J.jsxs)("p",{children:["Time: ",e.data.recordTimecode]}),Object(J.jsxs)("p",{children:["Filename: ",e.data.recordingFilename.slice(e.data.recordingFilename.lastIndexOf("/")+1,e.data.recordingFilename.length)]}),Object(J.jsxs)("p",{children:["File Path: ",e.data.recordingFilename.slice(0,e.data.recordingFilename.lastIndexOf("/")+1)]}),Object(J.jsxs)(q.Button,{variant:"destructive",onClick:function(){return t(M())},children:[Object(J.jsx)(Y.a,{icon:K.h,className:"margin-r-1"}),"Stop recording"]})]}):Object(J.jsx)("div",{className:"d-flex flex-column flex-grow-1 align-items-center justify-content-center",children:Object(J.jsxs)(q.Button,{onClick:function(){return t(M())},variant:"brand",children:[Object(J.jsx)(Y.a,{icon:K.c,className:"margin-r-1"}),"Start recording"]})})},ne=function(){var e=Object(V.c)((function(e){return e.streamReducer})),t=Object(V.b)();return e&&e.data.fps?Object(J.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center flex-grow-1 w-100",children:[Object(J.jsxs)("p",{children:[Object(J.jsx)(Y.a,{icon:K.g,className:"margin-r-05 breathingAnimation",style:{color:"red"}}),"Live now"]}),Object(J.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-between w-100",children:[Object(J.jsxs)("div",{className:"text-left stats",children:[Object(J.jsxs)("p",{children:["FPS: ",Math.floor(e.data.fps)]}),Object(J.jsxs)("p",{children:["Streaming time: ",e.data.streamTimecode]}),Object(J.jsxs)("p",{children:["Bitrate: ",e.data.kbitsPerSec,"kb/s"]}),Object(J.jsxs)("p",{children:["Skiped Frames: ",e.data.numDroppedFrames,"/",e.data.numTotalFrames]}),Object(J.jsxs)("p",{children:["Memory: ",parseFloat(e.data.memoryUsage).toFixed(2)]})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)(q.ProgressCircular,{variant:"warning",value:parseFloat(e.data.cpuUsage).toFixed(1)}),Object(J.jsx)("p",{children:"CPU ussage"})]})]}),Object(J.jsxs)(q.Button,{variant:"destructive",onClick:function(){return t(P())},children:[Object(J.jsx)(Y.a,{icon:K.h,className:"margin-r-1"}),"Stop Streaming"]})]}):Object(J.jsx)("div",{className:"d-flex flex-column flex-grow-1 align-items-center justify-content-center",children:Object(J.jsxs)(q.Button,{variant:"brand",onClick:function(){return t(P())},children:[Object(J.jsx)(Y.a,{className:"margin-r-1",icon:K.g}),"Start Sreaming"]})})},ce=function(){window.onResize=function(e){return console.log(e)};var e=Object(V.c)((function(e){return e.themeReducer})),t=Object(r.useState)(window.innerWidth),n=Object(U.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)("stream"),s=Object(U.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)(!1),d=Object(U.a)(u,2),j=d[0],b=d[1];return Object(r.useEffect)((function(){window.addEventListener("resize",(function(e){a(window.innerWidth)}))}),[]),Object(J.jsx)(q.Application,{theme:e.theme,children:Object(J.jsxs)(q.Card,{icon:c>768?Object(J.jsx)(q.Avatar,{size:"small",src:"icon.png"}):null,title:c>768?"Connected":null,actions:c>768?Object(J.jsxs)(q.Button,{variant:"success",size:"small",onClick:function(){return b(!0)},children:[Object(J.jsx)(Y.a,{className:"margin-r-05",icon:K.b}),"Settings"]}):null,className:"d-flex flex-column flex-grow-1 vh-100",children:[Object(J.jsx)(X,{}),Object(J.jsx)(q.Modal,{isOpen:j,onRequestClose:function(){return b(!1)},title:"Settings",icon:Object(J.jsx)(Y.a,{icon:K.b}),children:Object(J.jsx)(Q,{})}),Object(J.jsx)(ee,{}),Object(J.jsx)("div",{className:"d-flex flex-column flex-grow-1 overflow-auto justify-content-center align-items-center w-100",children:Object(J.jsxs)("div",{className:"d-flex flex-grow-1 overflow-auto w-75",children:[c>768?Object(J.jsx)(q.Card,{title:"Choose the scene",className:"w-50",children:Object(J.jsx)($,{})}):"",Object(J.jsxs)(q.Card,{className:"d-flex flex-column justify-content-center align-items center w-50 flex-grow-1",children:[Object(J.jsxs)(q.Tabset,{fullWidth:!0,className:"w-100",variant:"line",id:"tabset",onSelect:function(e,t){return l(t)},activeTabName:o,children:[c<768?Object(J.jsx)(q.Tab,{name:"scenes",label:Object(J.jsxs)("span",{children:[Object(J.jsx)(Y.a,{icon:K.e})," Scenes"]})}):null,Object(J.jsx)(q.Tab,{name:"stream",label:Object(J.jsxs)("span",{children:[Object(J.jsx)(Y.a,{icon:K.g})," Stream"]})}),Object(J.jsx)(q.Tab,{name:"record",label:Object(J.jsxs)("span",{children:[Object(J.jsx)(Y.a,{icon:K.c})," Record"]})})]}),{stream:Object(J.jsx)(ne,{}),record:Object(J.jsx)(te,{}),scenes:Object(J.jsx)($,{})}[o]]})]})}),c<768?Object(J.jsx)(q.ButtonIcon,{className:"settingsButton",variant:"success",icon:Object(J.jsx)(Y.a,{icon:K.b,onClick:function(){return b(!j)}})}):null]})})},re=function(){return Object(V.c)((function(e){return e.obsReducer})).isConnected?Object(J.jsx)(ce,{}):Object(J.jsx)(Z,{})};function ae(){var e=Object(s.d)(z,W(s.a.apply(void 0,H)));return Object(J.jsx)(V.a,{store:e,children:Object(J.jsx)(re,{})})}var ie=document.getElementById("root");i.a.render(Object(J.jsx)(r.StrictMode,{children:Object(J.jsx)(ae,{})}),ie)},257:function(e,t){},353:function(e,t,n){},847:function(e,t){},848:function(e,t){}},[[1987,1,2]]]);
//# sourceMappingURL=main.75aac4cc.chunk.js.map